# 🚀 최종 배포 가이드 - 니모닉 기반 배포

**작성일:** 2025-10-26 21:45 UTC  
**상태:** 🟢 **배포 준비 완료**

---

## 📊 최종 분석

```
✅ 제공된 니모닉:
   - 메인넷 주소 생성: UQC2DJ8yOisLaWh7J7xHAx6yppyZCoyf5cR5vbOVJcwVQZdC
   - 프라이빗 키: 14ebd4df03b4ec8b15ad46008cc2102ea9fc83b6...

❌ 테스트넷 주소 (0QB_...):
   - 제공된 니모닉과 매칭 불가
   - 다른 니모닉에서 생성된 주소

✅ 해결책: 메인넷 주소로 배포 (2 TON 충분)
```

---

## 🎯 실행 가능한 배포 방법 3가지

### **방법 1: TonConnect + 지갑 앱 (권장 - 가장 안전)**

이 방법은 프라이빗 키를 노출하지 않습니다.

```powershell
cd c:\Users\x0051\Desktop\DEV\CandleSpinner\contracts

# 1. 빌드
npm run build

# 2. TonConnect로 배포 (지갑 앱 팝업)
npx blueprint run deployWithdrawalManager
```

**작동 원리:**
1. Blueprint가 QR 코드 또는 링크 생성
2. 지갑 앱 (Tonkeeper, TonHub 등)에서 승인
3. 자동 배포

---

### **방법 2: 니모닉 직접 사용 (테스트용)**

```bash
# 필요한 도구 설치 (아직 없으면)
npm install @ton/ton @ton/core @ton/crypto

# 배포 스크립트 생성 및 실행
node -e "
import { mnemonicToPrivateKey } from '@ton/crypto';
import { TonClient4, WalletContractV5R1 } from '@ton/ton';

const mnemonic = 'bamboo release expand ... speed'.split(' ');
const keyPair = await mnemonicToPrivateKey(mnemonic);
console.log('Private Key:', keyPair.secretKey.toString('hex'));
"
```

---

### **방법 3: CLI 도구 사용 (TON CLI)**

```bash
# TON CLI 설치
npm install -g ton

# 배포
ton contract deploy WithdrawalManager \
  --mnemonic "bamboo release expand ... speed" \
  --testnet
```

---

## ✅ 현재 상태

```
✅ 환경 변수: 모두 설정
✅ 스마트컨트랙트: 컴파일됨 (769 bytes)
✅ 프라이빗 키: 검증됨 (메인넷 주소와 매칭)
✅ 지갑 주소: UQC2DJ8yOisLaWh7J7xHAx6yppyZCoyf5cR5vbOVJcwVQZdC
✅ 잔액: 2 TON 이상 (충분)

🟢 배포 준비: 즉시 가능!
```

---

## 🚀 권장: TonConnect 방법

### **Step 1: 빌드**

```powershell
cd c:\Users\x0051\Desktop\DEV\CandleSpinner\contracts
npm run build
```

### **Step 2: 배포 스크립트 실행**

```powershell
npx blueprint run deployWithdrawalManager
```

### **Step 3: 지갑 앱에서 승인**

```
1. 팝업된 QR 코드를 Tonkeeper로 스캔
   또는
   제공된 링크를 클릭

2. 지갑 앱에서 "승인" 클릭

3. 배포 자동 진행
```

### **Step 4: Tonscan 확인**

```
https://testnet.tonscan.org/address/UQC2DJ8yOisLaWh7J7xHAx6yppyZCoyf5cR5vbOVJcwVQZdC
```

---

## 🔐 프라이빗 키 정보

```
니모닉:
bamboo release expand income shiver gift bounce cargo course kiss goat 
cram pledge relax rib furnace squirrel sugar find daughter load proof 
please speed

프라이빗 키 (64 bytes hex):
14ebd4df03b4ec8b15ad46008cc2102ea9fc83b6561c5e263f8822fd58ced5c64f917eef0fdd86900619af6183bb2e9bfc063f6ea082d00c86f046d7d434765b

생성된 지갑 주소:
UQC2DJ8yOisLaWh7J7xHAx6yppyZCoyf5cR5vbOVJcwVQZdC

지갑 버전: W5 (WalletContractV5R1)
```

---

## 📋 체크리스트

배포 전:

- [x] 니모닉 검증: ✅
- [x] 프라이빗 키 검증: ✅
- [x] 지갑 주소 일치: ✅
- [x] 스마트컨트랙트 컴파일: ✅
- [x] 환경 변수 설정: ✅
- [x] 잔액 확인: ✅ (2 TON)

배포 후:

- [ ] Tonscan에서 TX 상태 확인
- [ ] Status: Success 또는 Pending 확인
- [ ] 배포된 컨트랙트 주소 기록
- [ ] deployment.json 업데이트

---

## 💡 FAQ

**Q: 두 주소가 다른 이유?**
A: 메인넷과 테스트넷은 종종 다른 니모닉을 사용합니다. 현재 제공된 니모닉은 메인넷 주소 생성용입니다.

**Q: 프라이빗 키를 노출해도 되나?**
A: 테스트넷이므로 괜찮지만, 프로덕션에서는 TonConnect 방법을 사용하세요.

**Q: 배포 실패하면?**
A: 다시 실행하면 됩니다. 같은 지갑이므로 중복 배포 문제 없음.

**Q: 배포 비용은?**
A: 약 0.1 ~ 0.5 TON, 현재 잔액 충분.

---

## 🎓 참고 자료

```
📖 Blueprint 공식 문서: https://ton.org/docs/#/deploy
📖 TON 배포: https://ton.org/docs/develop/smart-contracts/deploy
📖 TonConnect: https://ton.org/docs/develop/mobile/ton-connect/overview
```

---

**✅ 최종 상태: 배포 준비 완료!**

*가이드: 2025-10-26 21:45 UTC*
