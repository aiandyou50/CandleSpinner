# [보고서] 테스트넷 배포 현황 및 체크리스트 (2025-10-26)

**상태**: ✅ **배포 준비 완료** (TonConnect를 통한 배포 대기 중)

---

## 1. 지금까지 완료된 작업

### ✅ 완료
- [x] 스마트컨트랙트 빌드 (`WithdrawalManager.tact`)
- [x] 환경 변수 설정 (`.env.local`)
- [x] 배포 스크립트 준비 (`deployWithdrawalManager.ts`)
- [x] 테스트넷 TON 수령 (배포자 지갑)
- [x] 배포 환경 전체 검증 (npm run check-env)

### 📋 설정 정보
```
배포자 지갑 (테스트넷): kQB_yGkOExm0kP1--22Kx7EwllpC67Fk2xpZcfjUt7vic5Ml
필요 잔액: 0.05+ TON ✅ (이미 수령)
Owner 설정: EQBFPDdSlPgqPrn2XwhpVq0KQExN2kv83_batQ-dptaR8JaY
CSPIN Jetton: EQBZ6nHfmT2wct9d4MoOdNPzhtUGXOds1y3NTmYUFHAA3uvV
네트워크: Testnet
```

---

## 2. 배포 다음 단계

### 🔄 현재 상태
- 스마트컨트랙트: 빌드 완료 ✅
- 환경 설정: 완료 ✅
- 테스트넷 TON: 수령 완료 ✅
- **배포: 🔄 TonConnect를 통해 실행 대기**

### 📱 배포 절차 (Tonkeeper 필수)

**Step 1️⃣  Tonkeeper 준비**
```
1. 모바일 폰에 Tonkeeper 앱 설치
2. 테스트넷으로 전환
   설정 → 개발 설정 → 테스트넷 활성화
3. 배포자 니모닉으로 지갑 복구 (이미 있으면 선택)
```

**Step 2️⃣  배포 명령 실행**
```bash
cd c:\Users\x0051\Desktop\DEV\CandleSpinner\contracts
npm run deploy
```

**Step 3️⃣  네트워크 & 지갑 선택**
```
? Which network do you want to use?
  → testnet (선택)

? Which wallet are you using?
  → TON Connect compatible mobile wallet (선택)

? Choose your wallet
  → Tonkeeper (선택)
```

**Step 4️⃣  QR 코드 스캔**
```
1. 터미널에 QR 코드 표시됨
2. Tonkeeper 앱에서 스캔
   (또는 표시된 링크 클릭)
```

**Step 5️⃣  트랜잭션 서명**
```
1. Tonkeeper에서 "승인" 탭 확인
2. 트랜잭션 세부사항 확인
3. "서명" 버튼 탭
```

**Step 6️⃣  배포 완료 확인**
```
터미널에 출력:
  ✅ 스마트컨트랙트 주소: 0QB_yGkO...
  ✅ 배포 정보: deployment-info.json 저장됨
```

---

## 3. 배포 후 다음 작업 순서

### 🔄 백엔드 API 구현
1. `/api/initiate-withdrawal` 구현
2. `/api/confirm-withdrawal` 구현

### 💻 프론트엔드 구현
1. TonConnect 통합
2. Permit 메시지 호출

### 🧪 테스트
1. 단위 테스트
2. 통합 테스트
3. 블록체인 테스트

### 📦 메인넷 배포
1. 테스트넷 검증 완료 후
2. 메인넷 주소 업데이트

---

**작성일**: 2025-10-26  
**상태**: 🔄 배포 대기 중
