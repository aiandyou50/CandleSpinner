# 🎰 토큰-슬롯-미니게임 UI/UX 및 요구사항 명세서 (업데이트 버전)

> **중요 공지**: 기존 UI 디자인은 완전히 폐기되며, 아래 명세에 따라 전면적으로 새로 구축될 예정입니다. 모든 UI/UX 요소는 본 문서에 명시된 요구사항에 따라 재설계 및 구현되어야 합니다.

---

## 1. 전체 게임 규칙 및 구조

### 1.1 슬롯머신 규칙 (Slot Machine Rules)
- **릴(Reel) 구성**: 3-Reel 슬롯머신
- **심볼(Symbols)**: 이미지 파일 대신 이모지(Emoji)를 사용

| 심볼 (Symbol) | 명칭 | 희귀도 | 배당률 (Multiplier) | 확률 (개별 릴) |
|--------------|------|-------|-------------------|------------|
| ⭐ | 별 | Common | x0.5 | 35% |
| 🪐 | 행성 | Common | x1 | 25% |
| ☄️ | 혜성 | Uncommon | x2 | 15% |
| 🚀 | 로켓 | Uncommon | x3 | 10% |
| 👽 | 외계인 | Rare | x5 | 7% |
| 💎 | 다이아몬드 | Rare | x10 | 5% |
| 👑 | 왕관 | Legend | x20 | 3% |

- **당첨금 계산 방식 (독창적 규칙)**:
  - 당첨금은 당첨된 각 릴의 상금을 개별적으로 계산하여 모두 합산
  - 예시: 베팅액 100 CSPIN, 2개 릴에서 '로켓(x3)' 당첨 시, 상금 = `(100 * 3) + (100 * 3) = 600 CSPIN`

- **잭팟(Jackpot) 규칙**:
  - 3개 릴에 모두 동일한 심볼이 나올 경우 잭팟이 발동
  - 잭팟 상금 = (3개 릴의 개별 당첨금 총합) x 100
  - 예시: 베팅액 100 CSPIN, 3개 릴 '로켓(x3)' 잭팟 시, 상금 = `((100*3) + (100*3) + (100*3)) * 100 = 90,000 CSPIN`
  - **잭팟 시 동영상 재생**: 잭팟 발생 시 `public/jackpot_video.mp4` 파일을 전체 화면으로 재생 (자동 재생, 소리 포함, 약 5초 길이)

- **공정성**: 서버에서 결과를 결정하며, Provably Fair 알고리즘을 도입하여 결과의 투명성과 신뢰성을 보장

### 1.2 미니게임 (더블업, Double-Up)
- **발동 조건**: 슬롯머신 스핀에서 1회라도 당첨금이 발생하면 항상 등장
- **게임 방식**: 빨간색 버튼과 파란색 버튼 중 하나를 선택. 50% 확률로 성공 또는 실패
- **성공 시**: 현재 당첨금의 2배를 획득
- **실패 시**: 현재 당첨금을 모두 잃음
- **플레이 제한**: 슬롯머신 스핀 1회 당 단 한 번의 더블업 기회만 주어짐 (연속 성공 불가)

### 1.3 토큰 경제 모델 (Tokenomics)
- **RTP (Return to Player)**: 95%
  - 전체 사용자 베팅액의 95%가 장기적으로 상금 풀(Pool)로 사용자에게 반환되도록 심볼 확률 및 배당률을 설계
- **하우스 엣지 (House Edge)**: 5%
  - 프로젝트의 지속적인 운영, 개발, 마케팅을 위한 수익 모델로 활용

---

## 2. UI/UX 디자인 명세서

### 2.1 전체 화면 레이아웃
- **화면 구성 요소**:
  - 상단 정보 패널: 사용자 프로필, 보유 CSPIN 토큰, 현재 랭크 표시
  - 중앙 게임 영역: 3-릴 슬롯머신 (화면의 60% 차지)
  - 하단 컨트롤 영역: 베팅 조절, 스핀 버튼, 게임 내역 접근
  - 우측 사이드 패널: 실시간 당첨 통계, RTP 정보, 잭팟 현황 표시

### 2.2 슬롯머신 인터페이스
- **릴 디자인**:
  - 3개의 수직 릴 배치 (가로 정렬)
  - 각 릴 크기: 120x240px (반응형)
  - 심볼 표시 영역: 각 릴당 3개의 이모지 심볼 동시 표시
  - 구분선: 릴 사이에 명확한 경계선 (2px, #4A4A4A)

- **심볼 시각화 규칙**:
  - 희귀도별 시각적 구분:
    - Common (⭐, 🪐): 일반 테두리, 흰색 배경
    - Uncommon (☄️, 🚀): 파란색 하이라이트 (#4A90E2), 약간의 그림자 효과
    - Rare (👽, 💎): 보라색 하이라이트 (#9B59B6), 부드러운 발광 효과
    - Legend (👑): 금색 하이라이트 (#F1C40F), 강렬한 발광 효과 + 애니메이션
  - 당첨 라인: 중앙 수평선에 노란색 (#FFD700) 강조선 표시
  - 스핀 중 애니메이션: 부드러운 스크롤 효과 (감속 곡선 적용)
  - 결과 애니메이션: 당첨된 심볼 주변에 펄스 효과 적용

- **잭팟 애니메이션**:
  - 잭팟 발생 시 전체 화면에 커스텀 애니메이션 효과 표시
  - `public/jackpot_video.mp4` 파일 재생 (자동 재생, 사운드 포함)
  - 비디오 재생 중 모든 UI 요소 비활성화
  - 비디오 종료 후 자동으로 결과 화면으로 전환

### 2.3 상호작용 요소

#### 2.3.1 베팅 컨트롤
- **베팅 슬라이더**:
  - 범위: 10 ~ 1,000 CSPIN
  - 단계: 10 CSPIN 단위
  - 디자인: 원형 핸들, 그라데이션 배경 (파랑에서 초록)
  - 실시간 미리보기: 현재 선택된 베팅 금액 표시

- **퀵 베팅 버튼**:
  - MAX 버튼: 최대 보유 금액 베팅
  - 단축 버튼: 100, 500, 1000 CSPIN 버튼 (3개)
  - 버튼 디자인: 평면 스타일, 호버 시 상승 효과

#### 2.3.2 스핀 버튼
- **디자인**:
  - 크기: 80x80px, 원형
  - 색상: 활성화 시 (#4CAF50), 비활성화 시 (#9E9E9E)
  - 아이콘: 중앙에 화살표 아이콘
  - 애니메이션: 호버 시 확대 (105%), 클릭 시 펄스 효과

- **상태 표시**:
  - 충분한 잔액이 없을 경우: 버튼 비활성화 + 알림 텍스트
  - 게임 진행 중: 버튼 비활성화 + 로딩 인디케이터

### 2.4 미니게임 (더블업) UI
- **트리거 조건**: 슬롯 당첨 발생 시 자동 팝업
- **팝업 구조**:
  - 전체 화면 오버레이 (반투명 검정, 70% 불투명도)
  - 중앙 게임 박스 (흰색 배경, 그림자 효과)
  - 현재 당첨금 강조 표시 (큰 폰트, 금색)
  - 설명 텍스트: "당첨금을 두 배로 늘릴 기회입니다!"

- **선택 버튼**:
  - 빨간색 버튼 (❤️): 좌측 배치
  - 파란색 버튼 (💙): 우측 배치
  - 버튼 크기: 120x60px
  - 호버 효과: 색상 진해짐 + 확대 효과

- **결과 표시**:
  - 성공: 녹색 배경, 축하 메시지, 2배 금액 표시
  - 실패: 빨간색 배경, 위로 메시지, "0 CSPIN" 표시
  - 자동 닫힘: 3초 후 자동으로 결과 창 닫힘

### 2.5 반응형 디자인 요구사항
- **모바일 (320px~768px)**:
  - 세로 화면에 최적화
  - 터치 영역 최소 48x48px 확보
  - 상단/하단 패널 접기 기능
  
- **태블릿 (769px~1024px)**:
  - 가로/세로 모두 지원
  - 릴 크기 조정 (150x300px)
  
- **데스크톱 (1025px+)**:
  - 와이드 뷰 최적화
  - 추가 정보 패널 표시 (우측)
  - 애니메이션 효과 강화

---

## 3. 기능 요구사항 정의

### 3.1 슬롯머신 핵심 기능
- **FR-S001**: 시스템은 3개의 수직 릴을 표시하며, 각 릴은 명세서에 명시된 7개의 이모지 심볼(⭐, 🪐, ☄️, 🚀, 👽, 💎, 👑)을 표시할 수 있어야 한다.
- **FR-S002**: 당첨금은 각 릴의 결과를 개별적으로 계산하여 합산한다: (베팅액 × 해당 심볼의 배당률)을 릴별로 계산 후 모두 더함.
- **FR-S003**: 3개 릴에 동일한 심볼이 등장할 경우 잭팟이 자동 발동되며, 상금은 (개별 당첨금 총합) × 100으로 계산되어야 한다.
- **FR-S004**: 잭팟 발생 시 `public/jackpot_video.mp4` 파일이 전체 화면으로 재생되어야 한다.
- **FR-S005**: 시스템은 Provably Fair 알고리즘을 통해 게임 결과의 공정성을 보장하고, 사용자가 이를 검증할 수 있는 기능을 제공해야 한다.

### 3.2 미니게임(더블업) 기능
- **FR-D001**: 슬롯 스핀 결과에서 상금이 발생할 경우, 자동으로 더블업 미니게임이 팝업되어야 한다.
- **FR-D002**: 더블업 게임은 빨간색과 파란색 버튼 중 하나를 선택하는 방식으로 구현되어야 하며, 성공 확률은 정확히 50%여야 한다.
- **FR-D003**: 성공 시 당첨금의 2배를 획득하고, 실패 시 해당 당첨금을 모두 잃어야 한다.
- **FR-D004**: 단일 슬롯 스핀 당 최대 1회만 더블업 게임을 진행할 수 있어야 하며, 연속으로 더블업 게임을 할 수 없어야 한다.

### 3.3 토큰 경제 관련 기능
- **FR-T001**: 시스템은 장기적으로 RTP 95%를 유지할 수 있도록 설계되어야 한다.
- **FR-T002**: 모든 트랜잭션 기록이 실시간으로 저장되어야 하며, 사용자가 확인할 수 있어야 한다.
- **FR-T003**: 매일 자정에 당일의 RTP 통계를 계산하여 관리자 대시보드에 표시해야 한다.

### 3.4 사용자 경험 요구사항
- **UX-001**: 첫 방문 사용자에게 인터랙티브 튜토리얼 제공 (슬롯 작동 방식, 당첨 규칙 설명)
- **UX-002**: 베팅 금액 변경 시 실시간으로 예상 상금 미리보기 제공
- **UX-003**: 당첨 발생 시 시각적/청각적 피드백 제공 (애니메이션 + 소리 효과)
- **UX-004**: 게임 기록 접근 기능 제공 (최근 50회 스핀의 결과, 시간, 상금 내역)

### 3.5 보안 및 공정성 요구사항
- **SEC-001**: 모든 게임 결과는 서버 측에서 결정되어야 하며, 클라이언트는 결과만 표시한다.
- **SEC-002**: Provably Fair 시스템을 통해 사용자가 게임 결과의 공정성을 검증할 수 있어야 한다.
- **SEC-003**: 게임 내 모든 트랜잭션(CSPIN 입출금)은 실시간으로 기록되고, 사용자가 확인할 수 있어야 한다.

---

## 4. 비기능 요구사항

### 4.1 성능 요구사항
- **PERF-001**: 페이지 로딩 시간: 최대 3초 이내 (5MBPS 인터넷 기준)
- **PERF-002**: 슬롯 스핀 요청부터 결과 표시까지: 최대 1초 이내
- **PERF-003**: 잭팟 비디오 로딩 시간: 최대 2초 이내 (캐싱 적용)
- **PERF-004**: 시스템은 분당 최소 1,000회 동시 스핀을 처리할 수 있어야 함

### 4.2 접근성 요구사항
- **ACC-001**: WCAG 2.1 AA 준수
- **ACC-002**: 색상 대비율 최소 4.5:1 유지 (특히 텍스트와 배경)
- **ACC-003**: 키보드 네비게이션 완전 지원 (탭 키로 모든 기능 접근 가능)
- **ACC-004**: 스크린 리더 호환 (ARIA 라벨 제공)

### 4.3 호환성 요구사항
- **COMP-001**: 브라우저 지원: Chrome, Firefox, Safari, Edge 최신 2개 버전
- **COMP-002**: 모바일 OS 지원: iOS 14+, Android 10+
- **COMP-003**: 모든 지원 브라우저에서 동일한 기능과 시각적 경험 제공
- **COMP-004**: 비디오 포맷 호환성: MP4 (H.264) 포맷 지원

---

## 5. 검증 계획

### 5.1 기능 검증
- **TEST-S001**: 각 심볼의 발생 확률이 명세서에 명시된 대로 정확하게 구현되었는지 검증 (10,000회 시뮬레이션)
- **TEST-S002**: 잭팟 조건(3개 동일 심볼)이 정확하게 트리거되고 보상이 올바르게 계산되는지 검증
- **TEST-S003**: 잭팟 발생 시 `public/jackpot_video.mp4`가 정상적으로 재생되는지 검증
- **TEST-D001**: 더블업 기능이 슬롯 당첨 시에만 표시되고, 단일 스핀 당 한 번만 실행 가능한지 검증

### 5.2 성능 검증
- **TEST-P001**: 부하 테스트: 1,000명 동시 접속 시 시스템 안정성 및 응답 시간 검증
- **TEST-P002**: 장기 실행 테스트: 24시간 연속 실행 시 메모리 누수 및 성능 저하 없는지 검증
- **TEST-P003**: 비디오 재생 성능: 다양한 네트워크 조건에서 잭팟 비디오 로딩 및 재생 시간 측정

### 5.3 공정성 검증
- **TEST-F001**: Provably Fair 검증 프로세스가 사용자에게 명확하게 제공되고 실제 결과와 일치하는지 검증
- **TEST-F002**: 장기 실행 시 RTP(95%)가 통계적으로 유지되는지 검증 (100,000회 이상 시뮬레이션)

---

## 6. UI 구현 가이드라인

### 6.1 색상 시스템
- **기본 색상**:
  - Primary: #4A00E0 (보라색)
  - Secondary: #8E2DE2 (연보라)
  - Accent: #FFD700 (금색, 당첨 강조)
  - Background: #0F0F1B (어두운 배경)
  - Text: #FFFFFF (기본), #B0B0B0 (보조)

### 6.2 타이포그래피
- **헤드라인**: 'Poppins', 굵기 700, 크기 24px
- **본문**: 'Open Sans', 굵기 400, 크기 16px
- **숫자/당첨금**: 'Orbitron', 굵기 600, 크기 20px (디지털 느낌)

### 6.3 애니메이션 가이드라인
- **스핀 애니메이션**: ease-out 큐브 곡선 적용, 릴별로 0.2초 간격으로 정지
- **당첨 효과**: 0.5초 지속의 펄스 효과 (scale: 1.0 → 1.1 → 1.0)
- **잭팟 효과**: 화면 전체 진동 효과 + 불꽃 애니메이션 + 비디오 재생
- **마이크로 인터랙션**: 모든 버튼 호버 시 0.3초 transition 적용

---

## 7. 프로토타입 확인 절차

1. 와이어프레임 검토 (기능 배치 확인)
2. 시각 디자인 검토 (색상, 글꼴, 요소 크기 확인)
3. 인터랙션 프로토타입 검토 (애니메이션, 상태 전환 확인)
4. 반응형 레이아웃 검토 (다양한 기기에서의 표시 확인)
5. 접근성 검토 (스크린 리더, 키보드 네비게이션 확인)
6. 잭팟 비디오 통합 검토 (로딩 시간, 화질, 사운드 확인)

---

> **검토 주기**: 모든 UI/UX 변경 사항은 반드시 산출물 검토 회의를 통해 승인 후 구현되어야 하며, 기존 UI 요소와의 호환성은 고려되지 않습니다. 새로운 디자인 시스템만을 적용합니다.
