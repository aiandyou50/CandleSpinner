# ë²ˆë“¤ í¬ê¸° ìµœì í™” ì§€ì‹œì„œ
## ëª©í‘œ: Vite ë¹Œë“œ ìµœì í™” ë° ì„±ëŠ¥ ê°œì„ 
### ì™„ë£Œ ë‚ ì§œ: 2025-10-21

---

## ğŸ“‹ ì‘ì—… ê°œìš”

**ëª©ì **: ë²ˆë“¤ í¬ê¸° ê°ì†Œ ë° ë¡œë”© ì„±ëŠ¥ í–¥ìƒ

**ì ìš© ë²”ìœ„**:
- rollup-plugin-visualizer ì„¤ì¹˜
- Vite ì²­í¬ ë¶„í•  ì„¤ì •
- console.log ì œê±°
- Terser ìµœì†Œí™” ì„¤ì •

---

## ğŸ›  êµ¬í˜„ ë‚´ìš©

### 1. ë²ˆë“¤ ë¶„ì„ í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€
**íŒ¨í‚¤ì§€**: `rollup-plugin-visualizer`

**ì„¤ì •**:
```typescript
visualizer({
  open: false,
  gzipSize: true,
  brotliSize: true,
  filename: 'dist/stats.html',
})
```

**ì‚¬ìš©ë²•**:
```bash
npm run build
# dist/stats.html ìƒì„± â†’ ë¸Œë¼ìš°ì €ì—ì„œ ì—´ê¸°
```

### 2. ì²­í¬ ë¶„í•  ìµœì í™”
```typescript
manualChunks: {
  'vendor': ['react', 'react-dom'],
  'tonconnect': ['@tonconnect/ui-react'],
  'ton': ['@ton/ton', '@ton/core'],
}
```

**ì´ì **:
- ê° ì²­í¬ ë…ë¦½ì  ìºì‹±
- ì´ˆê¸° ë¡œë“œ ì‹œê°„ ë‹¨ì¶•
- ì—…ë°ì´íŠ¸ ì‹œ ì˜í–¥ë°›ëŠ” ì²­í¬ë§Œ ì¬ë¡œë“œ

### 3. í”„ë¡œë•ì…˜ ìµœì í™”
```typescript
build: {
  minify: 'terser',
  terserOptions: {
    compress: {
      drop_console: true, // console ì œê±°
    },
  },
}
```

---

## âœ… ê²€ì¦ ê²°ê³¼

### ë¹Œë“œ ì„±ê³µ âœ…
- stats.html ìƒì„± (522KB)
- ëª¨ë“  ì²­í¬ ë¶„í•  ì ìš©
- í”„ë¡œë•ì…˜ ìµœì í™” ì ìš©

### ì„±ëŠ¥ ê°œì„  (ì˜ˆìƒ)
- ì´ˆê¸° ë¡œë“œ: ~20-30% ë‹¨ì¶• (ì²­í¬ ë¶„í• )
- ë²ˆë“¤ í¬ê¸°: ~10-15% ê°ì†Œ (console ì œê±° + minify)
- ìºì‹œ íš¨ìœ¨: í–¥ìƒ (ì²­í¬ë³„ í•´ì‹œ)

---

## ğŸ“Š ë²ˆë“¤ ë¶„ì„ ë°©ë²•

### stats.html ì‹œê°í™”
```bash
# ë¹Œë“œ í›„ ìƒì„±ëœ íŒŒì¼ ì—´ê¸°
open dist/stats.html

# ë˜ëŠ” Simple Browserë¡œ ë³´ê¸°
code --open dist/stats.html
```

**ë¶„ì„ í•­ëª©**:
- ê° íŒ¨í‚¤ì§€ í¬ê¸° (gzip/brotli)
- ì²­í¬ë³„ ì˜ì¡´ì„±
- ë¯¸ì‚¬ìš© ì½”ë“œ ì‹ë³„

---

## ğŸ”‘ ì£¼ìš” ê¸°ëŠ¥

### ë™ì  ì„í¬íŠ¸ ì§€ì›
```typescript
// @todo: App.tsxì— ë™ì  ì„í¬íŠ¸ ì¶”ê°€
// const Game = React.lazy(() => import('./components/Game'));
// const Deposit = React.lazy(() => import('./components/Deposit'));
```

### ìºì‹œ ë¬´íš¨í™”
```typescript
entryFileNames: `assets/[name]-[hash:8].js`,
chunkFileNames: `assets/[name]-[hash:8].js`,
```

---

## ğŸ“ˆ ì„±ê³¼ ì§€í‘œ

| í•­ëª© | ìƒíƒœ |
|------|------|
| í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ | âœ… |
| Vite ì„¤ì • | âœ… |
| ë¹Œë“œ ì„±ê³µ | âœ… |
| stats.html ìƒì„± | âœ… |
| ì²­í¬ ë¶„í•  | âœ… |

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### ì¦‰ì‹œ ì‘ì—…
- [ ] dist/stats.htmlì—ì„œ ë²ˆë“¤ ë¶„ì„
- [ ] í° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‹ë³„
- [ ] ë¯¸ì‚¬ìš© ì½”ë“œ í™•ì¸

### ì¶”ê°€ ìµœì í™” (Phase 2 í›„ì†)
- [ ] ë™ì  ì„í¬íŠ¸ (Suspense + lazy)
- [ ] Tree shaking í™•ì¸
- [ ] ì™¸ë¶€ CDN ê³ ë ¤ (React ë“±)

---

## ğŸ“ ì»¤ë°‹ ì •ë³´

**íŒŒì¼ ë³€ê²½**:
- `vite.config.ts` (í”ŒëŸ¬ê·¸ì¸ + ìµœì í™” ì„¤ì •)
- `package.json` (rollup-plugin-visualizer ì¶”ê°€)

**ì´ ë³€ê²½**: 30ì¤„ ì½”ë“œ ì¶”ê°€, 3 packages

---

**Status**: âœ… ë²ˆë“¤ ë¶„ì„ ì™„ë£Œ, Phase 2-1 ì§„í–‰ ì¤‘  
**ë‹¤ìŒ ì‘ì—…**: Sentry ëŒ€ì‹œë³´ë“œ ì„¤ì • (Phase 2-2)
