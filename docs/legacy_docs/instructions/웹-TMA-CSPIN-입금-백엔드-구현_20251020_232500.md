# 명령 지시서: 웹/TMA CSPIN 입금 백엔드 구현

## 요청 내용
웹브라우저와 TMA 환경 모두에서 동작하는 CSPIN 토큰 입금 기능 구현
(옵션 1: 백엔드 입금 방식)

## 요구사항
1. **문제 분석**:
   - 웹브라우저: TonConnect 지갑 서명 가능하지만 RPC 접근 불가
   - TMA: 시뮬레이션만 동작, 실제 트랜잭션 불가
   - 근본 원인: 프론트엔드에서 RPC 호출 불가능

2. **솔루션 (옵션 1 선택)**:
   - Cloudflare Functions 백엔드에서 RPC 호출 및 트랜잭션 생성/전송
   - 게임 지갑의 프라이빗 키 서버 보관
   - `/api/initiate-deposit` 엔드포인트 구현

3. **구현 대상**:
   - `functions/api/initiate-deposit.ts`: 백엔드 입금 로직
   - 프론트엔드 (웹/TMA): API 호출 및 상태 업데이트
   - SSoT 문서: [산출물3] 기술 구현 반영

## 타임스탬프
2025-10-20_232500

## 진행 방식
- AI 워크플로우 지침서 v3.0 완전 준수
- [Step 1-6] 순차적 진행
