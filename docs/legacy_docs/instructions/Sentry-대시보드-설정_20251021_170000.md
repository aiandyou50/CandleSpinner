# Sentry ëŒ€ì‹œë³´ë“œ ì„¤ì • ê°€ì´ë“œ
## ëª©í‘œ: í”„ë¡œë•ì…˜ ì—ëŸ¬ ëª¨ë‹ˆí„°ë§ ë° ëŒ€ì‹œë³´ë“œ êµ¬ì„±
### ì‘ì„± ë‚ ì§œ: 2025-10-21

---

## ğŸ“‹ Sentry ëŒ€ì‹œë³´ë“œ ì„¤ì • ë‹¨ê³„

### 1ë‹¨ê³„: Sentry í”„ë¡œì íŠ¸ ìƒì„±

```bash
# Sentry.io ë°©ë¬¸
https://sentry.io/

# 1. ê³„ì • ìƒì„±/ë¡œê·¸ì¸
# 2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
#    - Platform: React
#    - Alert Rule: On every new issue
```

**ê²°ê³¼**: Sentry DSN íšë“
```
https://your_key@your_org.ingest.sentry.io/project_id
```

---

### 2ë‹¨ê³„: DSN ì„¤ì •

**`.env.production.local` íŒŒì¼ ìƒì„±**:
```bash
VITE_SENTRY_DSN=https://your_key@your_org.ingest.sentry.io/project_id
```

**.gitignore í™•ì¸**:
```bash
# ì´ë¯¸ ì¶”ê°€ë¨
.env.production.local
.env.*.local
```

---

### 3ë‹¨ê³„: ëŒ€ì‹œë³´ë“œ ì»¤ìŠ¤í„°ë§ˆì´ì§•

#### A. ì•Œë¦¼ ê·œì¹™ (Alert Rules)

**ì„¤ì • ê²½ë¡œ**: Settings â†’ Alerts â†’ Create Alert Rule

**ê¶Œì¥ ê·œì¹™ 1: ì‹ ê·œ ì—ëŸ¬**
```
Condition: A new issue is created
Action: Send to: Slack #errors
```

**ê¶Œì¥ ê·œì¹™ 2: ì—ëŸ¬ ë¹ˆë„**
```
Condition: Events > 10 in 5 minutes
Action: Send to: Slack #critical
```

**ê¶Œì¥ ê·œì¹™ 3: íŠ¹ì • ì—ëŸ¬**
```
Condition: error.type contains "TonConnect"
Action: Send to: Slack #blockchain-errors
```

#### B. ì´ìŠˆ ê·¸ë£¹í•‘

**ì„¤ì • ê²½ë¡œ**: Settings â†’ Grouping

**ê¶Œì¥ ì„¤ì •**:
```
- Fingerprint: Default
- Group by: Exception + Message
```

ì´ë ‡ê²Œ í•˜ë©´ ê°™ì€ ì¢…ë¥˜ì˜ ì—ëŸ¬ê°€ ê·¸ë£¹í™”ë©ë‹ˆë‹¤.

#### C. ëŒ€ì‹œë³´ë“œ ì»¤ìŠ¤í„°ë§ˆì´ì§•

**ì„¤ì • ê²½ë¡œ**: Projects â†’ Dashboard

**ì¶”ì²œ ìœ„ì ¯**:
1. **Issues** (ìµœê·¼ ì—ëŸ¬ ëª©ë¡)
2. **Events by Release** (ë²„ì „ë³„ ì—ëŸ¬)
3. **User Feedback** (ì‚¬ìš©ì ë³´ê³ )
4. **Crash-free Users** (ì•ˆì •ì„± ì§€í‘œ)

---

### 4ë‹¨ê³„: Slack ì—°ë™

#### A. Slack App ìƒì„±
```
1. https://api.slack.com/apps ì ‘ì†
2. "Create New App" â†’ "From scratch"
3. App name: "Sentry Alerts"
4. ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì„ íƒ
```

#### B. Permissions ì„¤ì •
```
OAuth Scopes (Bot Token Scopes) ì¶”ê°€:
- chat:write
- incoming-webhook
```

#### C. Sentryì—ì„œ ì—°ë™
```
Settings â†’ Integrations â†’ Slack

1. "Connect Slack"
2. ì±„ë„ ì„ íƒ: #errors, #critical ë“±
3. "Authorize"
```

---

### 5ë‹¨ê³„: ì•Œë¦¼ ì„ê³„ê°’ ì„¤ì •

**ì„¤ì • ê²½ë¡œ**: Settings â†’ Alert Rules â†’ Configure Threshold

**ê¶Œì¥ ì„ê³„ê°’**:
```
NEW_ISSUE:
  - Every new issue â†’ Slack

ERROR_SPIKE:
  - Events > 50 in 1 hour â†’ Slack #critical
  - Events > 100 in 1 hour â†’ SMS/Email

CRASH_FREE_SESSIONS:
  - < 99% â†’ Slack #critical
  - < 95% â†’ Email alert
```

---

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥ ì„¤ëª…

### Dashboard Widgets

**1. Issues**
- ìµœê·¼ ì—ëŸ¬ ëª©ë¡
- í•´ê²° ìƒíƒœ ì¶”ì 
- ì—ëŸ¬ ë¹ˆë„ í‘œì‹œ

**2. Release Performance**
- ë²„ì „ë³„ ì—ëŸ¬ìœ¨
- Crash-free percentage
- ë²„ì „ ë¹„êµ ë¶„ì„

**3. User Feedback**
- ì‚¬ìš©ìê°€ ë³´ê³ í•œ ë¬¸ì œ
- í”¼ë“œë°± í…ìŠ¤íŠ¸
- ì—°ê´€ ì—ëŸ¬ í‘œì‹œ

**4. Geography**
- ì—ëŸ¬ ë°œìƒ ì§€ì—­
- IP ê¸°ë°˜ ë¶„ì„
- ì§€ì—­ë³„ í†µê³„

### Search & Filtering

**ì—ëŸ¬ ê²€ìƒ‰ ì˜ˆ**:
```
# TonConnect ê´€ë ¨ ì—ëŸ¬
error.type:TonConnectError

# íŠ¹ì • ë²„ì „
release:2.1.0

# íŠ¹ì • ì‚¬ìš©ì
user.id:user123

# ì‹œê°„ ë²”ìœ„
age:-24h
```

---

## ğŸ“Š ëª¨ë‹ˆí„°ë§ í•­ëª©

### í•„ìˆ˜ ëª¨ë‹ˆí„°ë§
- [ ] Error Rate (ì—ëŸ¬ìœ¨)
- [ ] User Impact (ì˜í–¥ë°›ëŠ” ì‚¬ìš©ì)
- [ ] Crash-free Rate (ì•ˆì •ì„±)
- [ ] Performance (ì‘ë‹µ ì‹œê°„)

### ì •ê¸° ê²€í† 
- [ ] ì£¼ê°„ ì—ëŸ¬ ë¦¬í¬íŠ¸
- [ ] ì›”ê°„ íŠ¸ë Œë“œ ë¶„ì„
- [ ] ë²„ì „ë³„ ì„±ëŠ¥ ë¹„êµ

---

## ğŸ”§ Advanced ì„¤ì •

### Source Maps
```
Settings â†’ Source Maps

1. "Upload Release" í´ë¦­
2. ë¹Œë“œ ì‹œ source maps ì—…ë¡œë“œ
3. ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ì—ì„œ ì›ë³¸ ì½”ë“œ í‘œì‹œ
```

### Performance Monitoring
```
Settings â†’ Performance

1. "Enable Performance Monitoring"
2. Sample Rate: 10% (í”„ë¡œë•ì…˜ì—ì„œ ë¶€í•˜ ê³ ë ¤)
3. Threshold: 3000ms (ëŠë¦° ê±°ë˜)
```

---

## ğŸ“ ë¬¸ì œ í•´ê²°

### DSN í…ŒìŠ¤íŠ¸

```typescript
// src/main.tsxì— í…ŒìŠ¤íŠ¸ ì½”ë“œ ì¶”ê°€
if (import.meta.env.VITE_DEBUG_MODE) {
  // í…ŒìŠ¤íŠ¸ ì—ëŸ¬ ë°œìƒ (í”„ë¡œë•ì…˜ì—ì„œëŠ” ì‹¤í–‰ ì•ˆ ë¨)
  window.addEventListener('load', () => {
    setTimeout(() => {
      Sentry.captureException(new Error('Sentry Test Event'));
    }, 3000);
  });
}
```

### ì•Œë¦¼ì´ ì•ˆ ì˜¬ ë•Œ
- [ ] DSN ì •í™•í•œì§€ í™•ì¸
- [ ] Slack ì±„ë„ ê¶Œí•œ í™•ì¸
- [ ] ì•Œë¦¼ ê·œì¹™ í™œì„±í™” í™•ì¸
- [ ] ìƒ˜í”Œ ì—ëŸ¬ ë°œìƒì‹œì¼œ í…ŒìŠ¤íŠ¸

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Sentry í”„ë¡œì íŠ¸ ìƒì„±
- [ ] DSN íšë“ ë° ì„¤ì •
- [ ] ErrorBoundary ë°°í¬
- [ ] Slack ì—°ë™
- [ ] ì•Œë¦¼ ê·œì¹™ 3ê°œ ì´ìƒ ìƒì„±
- [ ] ëŒ€ì‹œë³´ë“œ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- [ ] í…ŒìŠ¤íŠ¸ ì—ëŸ¬ ë°œì†¡
- [ ] ì•Œë¦¼ ìˆ˜ì‹  í™•ì¸

---

## ğŸš€ í”„ë¡œë•ì…˜ ë°°í¬ ì „

```bash
# 1. DSN ì„¤ì •
VITE_SENTRY_DSN=https://your_real_dsn

# 2. ë¹Œë“œ
npm run build

# 3. í…ŒìŠ¤íŠ¸ ë°°í¬
# Cloudflare Pagesì— ë°°í¬

# 4. Sentryì—ì„œ ì—ëŸ¬ ìˆ˜ì‹  í™•ì¸
# https://your_org.sentry.io/projects/candlespinner/

# 5. ì•Œë¦¼ ìˆ˜ì‹  í™•ì¸
# Slack #errors ì±„ë„ í™•ì¸
```

---

## ğŸ“ ì°¸ê³  ìë£Œ

- [Sentry React í†µí•© ê°€ì´ë“œ](https://docs.sentry.io/platforms/javascript/guides/react/)
- [Sentry ì•Œë¦¼ ê·œì¹™](https://docs.sentry.io/alerts/)
- [Slack í†µí•©](https://docs.sentry.io/integrations/slack/)

---

**Status**: ğŸ“‹ ì„¤ì • ê°€ì´ë“œ ì‘ì„± ì™„ë£Œ  
**ë‹¤ìŒ ì‘ì—…**: ì‹¤ì œ Sentry ê³„ì •ì—ì„œ ì„¤ì • (ë°°í¬ ì „)
